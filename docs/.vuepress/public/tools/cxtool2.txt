(()=>{var __webpack_exports__={};(function(){var script=document.createElement("script");script.setAttribute("src","https://code.jquery.com/jquery-3.6.0.min.js"),document.querySelector("html").appendChild(script);var outBtn=document.createElement("input");outBtn.type="button",outBtn.value="点击开启脚本",outBtn.style.position="fixed",outBtn.style.top="150px",outBtn.style.left="100px",outBtn.style.cursor="pointer",document.body.appendChild(outBtn);var isOpen=!1;function local_cutstr(t,e){var o,n=0,l=new String;o=t.length;for(var r=0;r<o;r++){var i=t.charAt(r);if(n++,escape(i).length>4&&n++,l=l.concat(i),n>=e)return l.concat("")}if(n<e)return t}outBtn.onclick=function(){if(isOpen){try{document.querySelector("#inputDiv").remove()}catch{}return outBtn.value="点击开启脚本",document.querySelector("#answer").innerHTML="已关闭",isOpen=!1,!1}if(!isOpen){isOpen=!0,outBtn.value="点击关闭脚本";var choose=prompt("请输入数字选择模式：1：超星作业；2：mooc测验题；3：自定义节点题搜索；4：手动输入题目查询；5：网点自助查询"),titleList=[],plist,answer=[],selector="",version=1,location,alert_list="",answer_option,answer_detail,answer_list;if("5"===choose&&window.open("https://cx.icodef.com/query.html?"),"1"===choose&&(0!==document.querySelectorAll(".Zy_TItle p:first-child").length?(plist=document.querySelectorAll(".Zy_TItle p:first-child"),version=0,console.log(plist)):0!==document.querySelectorAll(".mark_name").length?(plist=document.querySelectorAll(".mark_name"),version=1,console.log(plist)):alert("未获取到题目")),"2"===choose){var Myscript=document.createElement("script");Myscript.src="https://code.jquery.com/jquery-3.6.0.min.js",document.head.appendChild(Myscript),plist=document.querySelectorAll("div[class*='f-richEditorText j-richTxt']");for(let t=0;t<plist.length;t++){let e=plist[t].innerText.replace(/\ +/g,"");e=e.replace(/[\r\n]/g,""),titleList.push(e)}console.log(titleList)}if("3"===choose){selector=prompt("输入文本节点选择器"),plist=document.querySelectorAll(selector),location=prompt("请输入文字节点所在位置"),location=parseInt(location),plist=document.querySelectorAll(selector),console.log(plist);try{plist[0].childNodes[location].nodeType}catch(t){return void alert("该节点下暂无题目，请检查节点输入是否正确")}for(let t=0;t<plist.length;t++)titleList.push(plist[t].childNodes[location].data)}if("4"===choose&&(alert("请输入题目，支持多题搜索，格式为 ['题目1'，'题目2'，...]"),document.querySelector("html").insertAdjacentHTML("beforeEnd",'<div id="inputDiv" style="position:fixed;top:20%;left:50%;transform:translate(-50%,-50%);font-size:20px"><input id="title" placeholder="请输入题目列表" style="min-width:10rem;height:2rem;border:2px solid black;font-size:20px;border-radius:3px;box-shadow:0 0 0 rgba(0,0,0,.4)">  <button id="submitBtn">提交</button></div>'),document.querySelector("#submitBtn").onclick=function(){document.querySelector("html").insertAdjacentHTML("beforeEnd",'<div id="answer2"style="min-width:100px;max-height:500px;background-color:transparent;position:fixed;top:200px;left:100px;color:tomato;overflow:auto;transition:all .5s">答案列表</div>'),titleList=eval(document.querySelector("#title").value),console.log(titleList.length);for(let e=0;e<titleList.length;e++)t=e,console.log(titleList[e]),setTimeout((function(){$.post("https://cx.icodef.com/v2/answer",{topic:titleList[e],token:"CATgqUTYEiANhObK"},(function(t){try{t[0].result[0].correct}catch(t){answer.push([{option:"无答案",content:"题库未查询到"}])}answer.push(t[0].result[0].correct)}))}),1e3*t);var t;setTimeout((function(){console.log(answer),answer.forEach((function(t,e){answer_option=t[0].option,answer_detail=t[0].content,alert_list+=answer_list="第"+(e+1)+"题答案： "+answer_option+"详情为："+answer_detail;var o=document.createElement("p");o.innerHTML="第"+(e+1)+"题答案： "+answer_option+" 详情为："+answer_detail,document.querySelector("#answer2").appendChild(o)}));var t=document.createElement("div");document.querySelector("html").appendChild(t),t.style.minWidth="50px",t.style.minHeight="20px",t.style.backgroundColor="tomato",t.style.position="fixed",t.style.top="172px",t.style.left="100px",t.style.borderRadius="2px",t.style.textAlign="center",t.style.cursor="pointer",t.style.userSelect="none",t.innerText="点击显示或隐藏";var e=!0;t.onclick=function(){let t=document.querySelector("#answer2");e?(t.style.display="none",e=!1):(t.style.display="block",e=!0)},alert_list=[],answer=[]}),1100*titleList.length)}),"1"==choose){try{3===plist[0].childNodes[0].nodeType&&plist[0].childNodes[2].nodeType,console.log("2正常")}catch(t){version=!1,console.log("2出现错误")}if(console.log("2继续"),version)for(let t=0;t<plist.length;t++)titleList.push(plist[t].childNodes[2].data);else for(let t=0;t<plist.length;t++)titleList.push(plist[t].childNodes[0].data)}for(let e=0;e<titleList.length;e++)t=e,console.log(titleList[e]),setTimeout((function(){if("1"===choose||"3"===choose||"4"===choose){if(!isOpen)return!1;$.post("https://cx.icodef.com/v2/answer",{topic:titleList[e],token:"CATgqUTYEiANhObK"},(function(t){try{t[0].result[0].correct}catch(t){answer.push([{option:"无答案",content:"题库未查询到"}])}answer.push(t[0].result[0].correct),console.log(answer)}))}if("2"===choose){var t=local_cutstr(titleList[e],30);console.log(t),$.ajax({url:"https://cx.icodef.com/v2/answer",data:{topic:t,token:"CATgqUTYEiANhObK"},async:!0,type:"post",dataType:"json",crossDomain:!0,success:function(t){try{t[0].result[0].correct}catch(t){answer.push([{option:"无答案",content:"题库未查询到"}])}answer.push(t[0].result[0].correct),console.log(answer)},error:function(){console.log("出错了")}})}}),1e3*t);document.querySelector("html").insertAdjacentHTML("beforeEnd",'<div id="answer"style="max-width:1000px;max-height:500px;background-color:transparent;position:fixed;top:200px;left:100px;color:tomato;overflow:scroll;transition:all .5s"></div>'),document.querySelector("#answer").innerHTML="搜索中...",setTimeout((function(){if(!isOpen)return!1;document.querySelector("#answer").innerText="搜索完成!",answer.forEach((function(t,e){var o="",n="";for(let e=0;e<t.length;e++)o+=t[e].option,n+=t[e].content+" ";var l=document.createElement("p");l.innerHTML=e+1+": 答案："+o+" 详情："+n,console.log(t[0]),document.querySelector("#answer").appendChild(l)}))}),1100*titleList.length);var btn=document.createElement("div");document.querySelector("html").appendChild(btn),btn.style.minWidth="50px",btn.style.minHeight="20px",btn.style.backgroundColor="tomato",btn.style.position="fixed",btn.style.top="172px",btn.style.left="100px",btn.style.borderRadius="2px",btn.style.textAlign="center",btn.style.cursor="pointer",btn.style.userSelect="none",btn.innerText="点击显示或隐藏",btn.id="showDiv";var flag=!0;btn.onclick=function(){let t=document.querySelector("#answer");flag?(t.style.display="none",flag=!1):(t.style.display="block",flag=!0)}}var t}})()})();